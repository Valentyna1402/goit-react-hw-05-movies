{"version":3,"file":"static/js/462.90dde5f6.chunk.js","mappings":"2SAEMA,EAAcC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,oDAKxBC,EAAcH,EAAAA,GAAAA,IAAUI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,gCAIxBG,EAAQL,EAAAA,GAAAA,GAASM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,kCAIjBK,EAAOP,EAAAA,GAAAA,EAAQQ,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,kCAIfO,EAAWT,EAAAA,GAAAA,GAASU,IAAAA,GAAAR,EAAAA,EAAAA,GAAA,kCAIpBS,EAASX,EAAAA,GAAAA,GAASY,IAAAA,GAAAV,EAAAA,EAAAA,GAAA,kCAIlBW,EAAYb,EAAAA,GAAAA,GAASc,IAAAA,GAAAZ,EAAAA,EAAAA,GAAA,0CAKrBa,EAAOf,EAAAA,GAAAA,GAASgB,IAAAA,GAAAd,EAAAA,EAAAA,GAAA,2DAKhBe,EAAWjB,EAAAA,GAAAA,GAASkB,IAAAA,GAAAhB,EAAAA,EAAAA,GAAA,wE,SCpBbiB,EAAY,SAAHC,GAAmB,IAAbC,EAAKD,EAALC,MAC1BC,GAAsBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3BI,EAAGF,EAAA,GAAEG,EAAMH,EAAA,GAClBI,GAA0BL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAlCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAEdG,EACNX,EADMW,MAAOC,EACbZ,EADaY,aAAcC,EAC3Bb,EAD2Ba,aAAcC,EACzCd,EADyCc,SAAUC,EACnDf,EADmDe,OAAQC,EAC3DhB,EAD2DgB,YAEvDC,EAAc,IAAIC,KAAKN,GAAcO,cACrCC,EAAYC,KAAKC,MAAOT,EAAe,GAAM,KAkBnD,OAhBAU,EAAAA,EAAAA,YAAU,WACmB,SAAAC,IAW1B,OAX0BA,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAA3B,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAL,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEoB,OAFpBF,EAAAC,KAAA,EAEIvB,GAAS,GAAOsB,EAAAE,KAAA,GACKC,EAAAA,EAAAA,MAAqB,KAAD,EAAnCP,EAAMI,EAAAI,KACNP,EAAUD,EAAOS,SACjBP,EAAaF,EAAOU,aAAa,GACjCP,EAAS,GAAAQ,OAAMV,GAAOU,OAAGT,GAAUS,OAAGvB,GAC5CV,EAAOyB,GAAWC,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAElBtB,GAAS,GAAM,yBAAAsB,EAAAS,OAAA,GAAAd,EAAA,oBAElBe,MAAA,KAAAC,UAAA,EAZc,WACYnB,EAAAkB,MAAC,KAADC,UAAA,CAY3BC,EACF,GAAG,CAAC5B,KAGF6B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACGrC,IAASsC,EAAAA,EAAAA,KAACC,EAAAA,EAAK,KAChBH,EAAAA,EAAAA,MAACnE,EAAW,CAAAoE,SAAA,EACVC,EAAAA,EAAAA,KAAA,OAAK1C,IAAKA,EAAK4C,IAAI,kBACnBJ,EAAAA,EAAAA,MAAC/D,EAAW,CAAAgE,SAAA,EACVD,EAAAA,EAAAA,MAAC7D,EAAK,CAAA8D,SAAA,CACHnC,EAAM,KAAGM,EAAY,QAExB4B,EAAAA,EAAAA,MAAC3D,EAAI,CAAA4D,SAAA,CAAC,eAAa1B,EAAU,SAC7B2B,EAAAA,EAAAA,KAAC3D,EAAQ,CAAA0D,SAAC,cACVC,EAAAA,EAAAA,KAAC7D,EAAI,CAAA4D,SAAEhC,KACPiC,EAAAA,EAAAA,KAACzD,EAAM,CAAAwD,SAAC,YACRC,EAAAA,EAAAA,KAACvD,EAAS,CAAAsD,SACP/B,EAAOmC,KAAI,SAAAC,GAAmB,IAAhBC,EAAED,EAAFC,GAAIC,EAAIF,EAAJE,KACjB,OAAON,EAAAA,EAAAA,KAACnD,EAAQ,CAAAkD,SAAWO,GAALD,EACxB,aAINP,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4BACHD,EAAAA,EAAAA,MAACnD,EAAI,CAAAoD,SAAA,EACHC,EAAAA,EAAAA,KAACnD,EAAQ,CAAAkD,UACPC,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACC,GAAG,OAAMT,SAAC,YAElBC,EAAAA,EAAAA,KAACnD,EAAQ,CAAAkD,UACPC,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACC,GAAG,UAAST,SAAC,sBAM/B,E,QC9De,SAASU,IAAoB,IAADC,EAAAC,EACzCzD,GAA0BC,EAAAA,EAAAA,UAAS,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BD,EAAKG,EAAA,GAAEwD,EAAQxD,EAAA,GACtBI,GAA8BL,EAAAA,EAAAA,WAAS,GAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCqD,EAAOpD,EAAA,GAAEqD,EAAUrD,EAAA,GAC1BsD,GAA0B5D,EAAAA,EAAAA,WAAS,GAAM6D,GAAA3D,EAAAA,EAAAA,GAAA0D,EAAA,GAAlCrD,EAAKsD,EAAA,GAAErD,EAAQqD,EAAA,GACdC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAOH,GAiB3B,OAfA3C,EAAAA,EAAAA,YAAU,WACsB,SAAA+C,IAU7B,OAV6BA,GAAA7C,EAAAA,EAAAA,GAAAC,IAAAA,MAA9B,SAAAC,IAAA,IAAA4C,EAAA,OAAA7C,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEoB,OAFpBF,EAAAC,KAAA,EAEIvB,GAAS,GAAOsB,EAAAE,KAAA,GACQsC,EAAAA,EAAAA,IAAkBR,GAAS,KAAD,EAA5CO,EAASvC,EAAAI,KACfuB,EAASY,GAAWvC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAEpBtB,GAAS,GAAM,QAEG,OAFHsB,EAAAC,KAAA,GAEf4B,GAAW,GAAO7B,EAAAyC,OAAA,6BAAAzC,EAAAS,OAAA,GAAAd,EAAA,yBAErBe,MAAA,KAAAC,UAAA,EAXc,WACe2B,EAAA5B,MAAC,KAADC,UAAA,CAW9B+B,EACF,GAAG,CAACV,KAGFnB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAACC,GAAmC,QAAjCE,EAA2B,QAA3BC,EAAEU,EAAYO,QAAQC,aAAK,IAAAlB,OAAA,EAAzBA,EAA2BmB,YAAI,IAAApB,EAAAA,EAAI,UAAWqB,UAAU,cAAahC,SAAC,YAC/Ec,GAAUb,EAAAA,EAAAA,KAACgC,EAAAA,EAAM,KAAMhC,EAAAA,EAAAA,KAACjD,EAAS,CAACE,MAAOA,IACzCS,IAASsC,EAAAA,EAAAA,KAACC,EAAAA,EAAK,KAChBD,EAAAA,EAAAA,KAACiC,EAAAA,GAAM,MAGb,C","sources":["components/MovieItem/MovieItem.styled.js","components/MovieItem/MovieItem.js","pages/MovieDetailsPage.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst ItemWrapper = styled.div`\n  display: flex;\n  margin-bottom: 40px;\n`;\n\nconst TextWrapper = styled.div`\n  margin-left: 20px;\n`;\n\nconst Title = styled.h2`\n  margin-bottom: 10px;\n`;\n\nconst Text = styled.p`\n  margin-bottom: 40px;\n`;\n\nconst Overview = styled.h3`\n  margin-bottom: 20px;\n`;\n\nconst Genres = styled.h4`\n  margin-bottom: 20px;\n`;\n\nconst GenreList = styled.ul`\n  display: flex;\n  gap: 30px;\n`;\n\nconst List = styled.ul`\n  list-style-type: square;\n  margin-top: 20px;\n`;\n\nconst ListItem = styled.li`\n  color: rgba(148, 136, 255, 0.815);\n  margin-bottom: 10px;\n`;\n\nexport {\n  List,\n  ItemWrapper,\n  Text,\n  TextWrapper,\n  Title,\n  Overview,\n  ListItem,\n  GenreList,\n  Genres,\n};\n","import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { fetchConfiguration } from '../API';\nimport Error from 'components/Error/Error';\nimport {\n  List,\n  ItemWrapper,\n  Text,\n  TextWrapper,\n  Title,\n  Overview,\n  ListItem,\n  GenreList,\n  Genres,\n} from './MovieItem.styled';\n\nexport const MovieItem = ({ movie }) => {\n  const [src, setSrc] = useState('');\n  const [error, setError] = useState(false);\n\n  const { title, release_date, vote_average, overview, genres, poster_path } =\n    movie;\n  const releaseDate = new Date(release_date).getFullYear();\n  const userScore = Math.round((vote_average / 10) * 100);\n\n  useEffect(() => {\n    async function getPosterUrl() {\n      try {\n        setError(false);\n        const config = await fetchConfiguration();\n        const baseUrl = config.base_url;\n        const posterSize = config.poster_sizes[3];\n        const posterSrc = `${baseUrl}${posterSize}${poster_path}`;\n        setSrc(posterSrc);\n      } catch (error) {\n        setError(true);\n      }\n    }\n    getPosterUrl();\n  }, [poster_path]);\n\n  return (\n    <div>\n      {error && <Error />}\n      <ItemWrapper>\n        <img src={src} alt=\"movie poster\" />\n        <TextWrapper>\n          <Title>\n            {title} ({releaseDate})\n          </Title>\n          <Text>User score: {userScore} %</Text>\n          <Overview>Overview</Overview>\n          <Text>{overview}</Text>\n          <Genres>Genres</Genres>\n          <GenreList>\n            {genres.map(({ id, name }) => {\n              return <ListItem key={id}>{name}</ListItem>;\n            })}\n          </GenreList>\n        </TextWrapper>\n      </ItemWrapper>\n      <div>\n        <p>Additional information</p>\n        <List>\n          <ListItem>\n            <Link to=\"cast\">Cast</Link>\n          </ListItem>\n          <ListItem>\n            <Link to=\"reviews\">Reviews</Link>\n          </ListItem>\n        </List>\n      </div>\n    </div>\n  );\n};\n","import {\n  Link,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { fetchMovieDetails } from '../components/API';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\nimport Loader from 'components/Loader';\nimport Error from 'components/Error/Error';\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location);\n\n  useEffect(() => {\n    async function getMovieDetails() {\n      try {\n        setError(false);\n        const movieItem = await fetchMovieDetails(movieId);\n        setMovie(movieItem);\n      } catch (error) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    }\n    getMovieDetails();\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={backLinkRef.current.state?.from ?? '/movies'} className='backLinkRef'>Go back</Link>\n      {loading ? <Loader /> : <MovieItem movie={movie} />}\n      {error && <Error />}\n      <Outlet />\n    </div>\n  );\n}\n"],"names":["ItemWrapper","styled","_templateObject","_taggedTemplateLiteral","TextWrapper","_templateObject2","Title","_templateObject3","Text","_templateObject4","Overview","_templateObject5","Genres","_templateObject6","GenreList","_templateObject7","List","_templateObject8","ListItem","_templateObject9","MovieItem","_ref","movie","_useState","useState","_useState2","_slicedToArray","src","setSrc","_useState3","_useState4","error","setError","title","release_date","vote_average","overview","genres","poster_path","releaseDate","Date","getFullYear","userScore","Math","round","useEffect","_getPosterUrl","_asyncToGenerator","_regeneratorRuntime","_callee","config","baseUrl","posterSize","posterSrc","_context","prev","next","fetchConfiguration","sent","base_url","poster_sizes","concat","t0","stop","apply","arguments","getPosterUrl","_jsxs","children","_jsx","Error","alt","map","_ref2","id","name","Link","to","MovieDetailsPage","_backLinkRef$current$","_backLinkRef$current$2","setMovie","loading","setLoading","_useState5","_useState6","movieId","useParams","location","useLocation","backLinkRef","useRef","_getMovieDetails","movieItem","fetchMovieDetails","finish","getMovieDetails","current","state","from","className","Loader","Outlet"],"sourceRoot":""}